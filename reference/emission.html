<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generates an emission list to be supplied to the stem_measure
function. — emission • stemr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generates an emission list to be supplied to the stem_measure
function. — emission" />
<meta property="og:description" content="Generates an emission list to be supplied to the stem_measure
function." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stemr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/stemr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ebola_westafrica.html">Fitting a multi-country model for Ebola transmission in West Africa using the stemr package</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fintzij/stemr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates an emission list to be supplied to the <code><a href='stem_measure.html'>stem_measure</a></code>
function.</h1>
    <small class="dont-index">Source: <a href='https://github.com/fintzij/stemr/blob/master/R/emission.R'><code>R/emission.R</code></a></small>
    <div class="hidden name"><code>emission.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates an emission list to be supplied to the <code><a href='stem_measure.html'>stem_measure</a></code>
function.</p>
    </div>

    <pre class="usage"><span class='fu'>emission</span><span class='op'>(</span>
  <span class='va'>meas_var</span>,
  <span class='va'>distribution</span>,
  <span class='va'>emission_params</span>,
  incidence <span class='op'>=</span> <span class='cn'>TRUE</span>,
  obstimes <span class='op'>=</span> <span class='cn'>NULL</span>,
  strata <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>meas_var</th>
      <td><p>character vector supplying the name of the measurement
variable, either the name of a column in a dataset, or the name of a
variable in a dataset to be simulated.</p></td>
    </tr>
    <tr>
      <th>distribution</th>
      <td><p>emission distribution, one of "binomial", "betabinomial",
"poisson", "negbinomial", "gaussian"</p></td>
    </tr>
    <tr>
      <th>emission_params</th>
      <td><p>character vector of emission distribution parameters,
generally a function of model compartments and parameters.</p></td>
    </tr>
    <tr>
      <th>incidence</th>
      <td><p>do the data represent incidence counts (as opposed to
prevalence counts)? defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>obstimes</th>
      <td><p>numeric vector of observation times, required if the
measurement process is to be simulated from.</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>strata to which the emission distribution applies, may be
supplied as "ALL"</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an emission list to be parsed in the <code><a href='stem_measure.html'>stem_measure</a></code>
  function.</p>
    <h2 class="hasAnchor" id="specifying-emission-distributions"><a class="anchor" href="#specifying-emission-distributions"></a>Specifying emission distributions</h2>

    


<p>Each emission list specifies, at a minimum, the names of the measurement
  variables, the emission distribution, and the parameters of the emission
  distribution. Optionally, the user may supply a character vector of strata,
  possibly using the reserved word "ALL" to indicate all model strata. The
  <code>meas_var</code> arguments are then appended with the strata names and a
  separate emission distribution is generated for each stratum. All emission
  distributions in the stochastic epidemic model are assumed to be
  conditionally independent.</p>
<p>The available emission distributions are the binomial, beta-binomial,
  poisson, negative binomial, and gaussian distributions. The negative
  binomial distribution is parameterized by its mean and dispersion (mu,
  size). The user specifies the parameters as strings in the canonical order
  they are presented. Thus,</p><ol>
<li><p>binomial:
  size, prob</p></li>
<li><p>beta-binomial size, alpha, beta (N.B. the hyperparameters
  are interpretable as the prior success count, plus one, equal to alpha and
  the prior failure count, plus one, equal to beta)</p></li>
<li><p>negative binomial:
  size, mu. (N.B. the negative binomial emissions are parameterized by mean,
  NOT probability! Thus, the size argument corresponds to the negative
  binomial overdispersion parameter.)</p></li>
<li><p>gaussian: mean, sd</p></li>
</ol><p>. The
  <code>strata</code> argument may either be supplied as a character vector of
  model strata, or may be specified as "ALL" to indicate all model strata.
  The case-sensitive key word, "SELF", may be used in the name of the
  measurement variable and the parameter strings in conjunction with the
  <code>strata</code> argument to facilitate specification of multiple measurement
  processes. Thus, if there are multiple strata whose observations are
  accrued at the same set of times, the user would only need to supply a
  single emission function since "SELF" will be parsed and replaced with the
  names of the strata.</p>
<p>If the data consist of incidence counts, the counts of transition events
  must be identified in terms of the transitions that are being counted, in
  the form from2to - i.e. the 'from' and 'to' compartments separated by the
  number 2. For example, in the case of incidence data for the SIR model, the
  data are counts of transitions from the S compartment to the I compartment.
  Therefore, when referencing incidence in the emission distribution, we
  write S2I as the total number of infection events, of which some portion
  are detected. If the emission distribution is defined for multiple strata,
  it is still permissible to use the "_SELF" keyword - e.g. S_SELF2I_SELF.</p>
<p>The parameters for each distribution are supplied as character vectors, and
  will typically be functions of model compartments, parameters, time-varying
  covariates, and constants. As in specification of the rate functions, the
  strings must be valid C++ code, although if a string is a single line, a
  semi-colon need not be included. Some examples of emission lists follow
  here:</p><ol>
<li><p><code>emission("I_SELF", "binomial", c("S_SELF2I_SELF",
  "rho"), incidence = TRUE, strata = "ALL")</code>: the observed incidence for each
  stratum is a binomial sample of the true incidence in that stratum.</p></li>
</ol>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jon Fintzi, Jon Wakefield, Vladimir Minin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


